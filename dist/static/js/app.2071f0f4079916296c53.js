webpackJsonp([1],{"2qSM":function(t,e){},"7zck":function(t,e){},D4uH:function(t,e,i){"use strict";var a={},n={name:"icon",props:{name:{type:String,validator:function(t){return t?t in a||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlesase make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?a[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,i=t.height;return Math.max(e,i)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(t,i){var a="fa-"+(s++).toString(16);return e[i]=a,' id="'+a+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,i,a,n){var s=i||n;return s&&e[s]?"#"+e[s]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,i=0;this.$children.forEach(function(t){e=Math.max(e,t.width),i=Math.max(i,t.height)}),this.childrenWidth=e,this.childrenHeight=i,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(i-t.height)/2})}},register:function(t){for(var e in t){var i=t[e];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),a[e]=i}},icons:a},s=870711;var r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,a){return i("path",t._b({key:"path-"+a},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,a){return i("polygon",t._b({key:"polygon-"+a},"polygon",e,!1))}):t._e(),t._v("\b\n    "),t.icon&&t.icon.raw?[i("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},staticRenderFns:[]};var o=i("VU/8")(n,r,!1,function(t){i("KFyI")},null,null);e.a=o.exports},KFyI:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("7zck"),i("D/PP"),i("n+X2");var a=i("7+uW"),n=i("3EgV"),s=i.n(n),r={name:"container",props:{source:String},data:function(){return{drawer:null}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("v-content",[e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[this._t("default")],2)],1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")(r,o,!1,function(t){i("2qSM")},null,null).exports,c=i("//Fk"),u=i.n(c),h=window.location.protocol+"//"+window.location.hostname,d=i("mtWM"),v=i.n(d),p=function(){return v.a.create({baseURL:h})},m=function(){return p().get("login")},f=function(){return p().get("logout")},g=i("M4fF"),_=i.n(g),y={name:"AudioAnimation",methods:{randomClass:function(t){return"left:"+(.02*document.body.clientWidth+.005*document.body.clientWidth)*(t-1)+"px; animation-duration:"+Math.floor(-199*Math.random()+700)+"ms;"}},computed:{numOfBars:function(){var t=.025*this.windowWidth+3.2,e=this.windowWidth/t;return Math.floor(e)}},data:function(){return{windowWidth:void 0}},beforeMount:function(){this.windowWidth=document.body.clientWidth},mounted:function(){var t=this;window.addEventListener("resize",function(){t.windowWidth=document.body.clientWidth})},beforeDestroy:function(){var t=this;window.removeEventListener("resize",function(){t.windowWidth=document.body.clientWidth})}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"audio-wrapper"},[t._l(t.numOfBars,function(e){return[i("div",{key:e,staticClass:"bar",style:t.randomClass(e)})]})],2)},staticRenderFns:[]};var w=i("VU/8")(y,b,!1,function(t){i("pr3K")},null,null).exports,x={name:"login",methods:{login:function(){m().then(function(t){window.location.replace(t.data)})}},components:{AudioAnimation:w}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"title-wrapper"},[i("icon",{staticClass:"spotify-icon",attrs:{name:"spotify"}}),t._v(" "),t._m(0),t._v(" "),i("v-btn",{staticClass:"login-btn",attrs:{flat:""},on:{click:function(e){t.login()}}},[t._v("Login")])],1),t._v(" "),i("AudioAnimation")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title"},[this._v("Statify "),e("span",{staticClass:"separator"},[this._v("|")])])}]};var C={name:"home",components:{login:i("VU/8")(x,k,!1,function(t){i("fMGR")},null,null).exports,AudioAnimation:w},methods:{logout:function(){f()},playPreview:function(t){var e=document.querySelector("audio");""===e.src?(e.src=t,e.play()):t!==e.src?(e.pause(),e.currentTime=0,e.src=t,e.play()):t===e.src?(e.pause(),e.currentTime=0,e.src=""):(e.pause(),e.currentTime=0)},getData:function(){var t=this;this.search.type=this.type,this.loading=!0;var e="?time_range="+this.search.timeRange+"&limit="+this.search.limit;v.a.get("https://api.spotify.com/v1/me/top/"+this.search.type+e,{headers:{Authorization:"Bearer "+this.accessToken}}).then(function(e){t.data=e.data.items,_.a.forEach(e.data.items,function(e){t.songs.push(e.uri)}),t.loading=!1})},createPlaylist:function(){var t=this,e=this.userData.id,i=this.songs,a={name:this.playlistName,public:!1},n={headers:{Authorization:"Bearer "+this.accessToken}};v.a.post("https://api.spotify.com/v1/users/"+e+"/playlists",a,n).then(function(a){var s=a.data.id;v.a.post("https://api.spotify.com/v1/users/"+e+"/playlists/"+s+"/tracks",{uris:i},n).then(function(e){t.successAlert=!0}).catch(function(e){t.failureAlert=!0,t.errors=e})})},audioUpdate:function(){var t=this.$refs.audio;t.currentTime>0&&!t.paused&&!t.ended?this.audioPlaying=!0:this.audioPlaying=!1}},computed:{playlistName:function(){var t="";return t="long_term"===this.search.timeRange?"Last Several Years":"medium"===this.search.timeRange?"Last 6 Months":"Last Month","Top "+this.search.limit+" Songs Over the "+t},getAlbumClasses:function(){return"artists"===this.type?"album tint":"tracks"===this.type?"album tint song":void 0}},data:function(){return{accessToken:"",loading:!0,topArtists:[],search:{type:"artists",timeRange:"medium_term",limit:20},type:"artists",limit:20,song:"",data:[],songs:[],userData:void 0,errors:"",successAlert:!1,failureAlert:!1,audioPlaying:!1}},beforeMount:function(){var t=this;if(this.accessToken=window.location.href.split("=")[1],this.accessToken){var e=v.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+this.accessToken}}).then(function(e){t.userData=e.data}),i=v.a.get("https://api.spotify.com/v1/me/top/"+this.search.type,{headers:{Authorization:"Bearer "+this.accessToken}}).then(function(e){t.data=e.data.items});u.a.all([e,i]).then(function(){t.loading=!1})}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.accessToken?i("v-expansion-panel",[i("v-expansion-panel-content",[i("v-alert",{attrs:{color:"success",icon:"success",dismissible:""},model:{value:t.successAlert,callback:function(e){t.successAlert=e},expression:"successAlert"}},[t._v("\n        Playlist Created\n      ")]),t._v(" "),i("v-alert",{attrs:{color:"warning",icon:"warning",dismissible:""},model:{value:t.failureAlert,callback:function(e){t.failureAlert=e},expression:"failureAlert"}},[t._v("\n        Error in Creating Playlist: "+t._s(t.errors)+"\n      ")]),t._v(" "),i("h4",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[i("icon",{attrs:{name:"spotify"}}),t._v(" "),i("div",{staticStyle:{"margin-left":"20px",position:"absolute",top:"10px"}},[t._v("Statify")])],1),t._v(" "),t.userData?i("v-flex",{staticClass:"welcome-user"},[t.userData.images[0]?i("img",{staticClass:"profile-pic",attrs:{src:t.userData.images[0].url}}):t._e(),t._v(" "),i("h4",{staticClass:"username"},[t._v("Welcome, "+t._s(t.userData.display_name)+"\n          "),i("span",{staticClass:"separator"},[t._v(" | ")])]),t._v(" "),i("v-btn",{staticClass:"logout-btn",attrs:{flat:""},on:{click:t.logout}},[t._v("Logout")])],1):t._e(),t._v(" "),i("v-layout",{staticClass:"toggles",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{sm6:"",xs12:""}},[i("v-subheader",[t._v("Type")]),t._v(" "),i("v-radio-group",{attrs:{mandatory:!1},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[i("v-radio",{attrs:{label:"Artists",value:"artists",color:"green"}}),t._v(" "),i("v-radio",{attrs:{label:"Tracks",value:"tracks",color:"green"}})],1)],1),t._v(" "),i("v-flex",{attrs:{sm6:"",xs12:""}},[i("v-subheader",[t._v("Time")]),t._v(" "),i("v-radio-group",{attrs:{mandatory:!1},model:{value:t.search.timeRange,callback:function(e){t.$set(t.search,"timeRange",e)},expression:"search.timeRange"}},[i("v-radio",{attrs:{label:"Last Several Years",value:"long_term",color:"green"}}),t._v(" "),i("v-radio",{attrs:{label:"Last 6 Months",value:"medium_term",color:"green"}}),t._v(" "),i("v-radio",{attrs:{label:"Last Month",value:"short_term",color:"green"}})],1)],1),t._v(" "),i("v-flex",{attrs:{xs12:""}},[i("v-subheader",[t._v("# of Tracks")]),t._v(" "),i("v-flex",{attrs:{xs9:""}},[i("v-slider",{attrs:{color:"green",max:50},model:{value:t.search.limit,callback:function(e){t.$set(t.search,"limit",e)},expression:"search.limit"}})],1),t._v(" "),i("v-flex",{staticStyle:{"margin-right":"10px"},attrs:{xs1:""}},[i("v-text-field",{attrs:{type:"number"},model:{value:t.search.limit,callback:function(e){t.$set(t.search,"limit",e)},expression:"search.limit"}})],1)],1),t._v(" "),i("v-flex",[i("v-btn",{on:{click:t.getData}},[t._v("Load")]),t._v(" "),"tracks"===t.search.type?i("v-btn",{on:{click:t.createPlaylist}},[t._v("Create Playlist")]):t._e()],1)],1)],1)],1):t._e(),t._v(" "),t.accessToken?i("div",{staticClass:"albums",attrs:{loading:t.loading}},[t._l(t.data,function(e,a){return["artists"!==t.search.type||t.loading?"tracks"!==t.search.type||t.loading?t._e():[i("v-flex",{staticStyle:{display:"inline-block"},attrs:{lg3:"",md4:"",sm6:"",xs12:""}},[i("div",{staticClass:"album-container"},[i("img",{class:t.getAlbumClasses,staticStyle:{width:"100%"},attrs:{src:e.album.images[0].url,alt:e.name},on:{click:function(i){t.playPreview(e.preview_url)}}}),t._v(" "),i("icon",{staticClass:"play-icon overlay",attrs:{name:"play"}}),t._v(" "),i("div",{staticClass:"label overlay"},[i("h4",[t._v(t._s(e.name))]),t._v(" "),i("h4",[t._v(t._s(e.artists[0].name))]),t._v(" "),i("h4",[t._v(t._s(e.album.name))])]),t._v(" "),i("div",{staticClass:"label rating-overlay"},[i("h2",[t._v(t._s(a+1))])])],1)])]:[i("v-flex",{staticStyle:{display:"inline-block"},attrs:{lg3:"",md4:"",sm6:"",xs12:""}},[i("div",{staticClass:"album-container"},[i("img",{class:t.getAlbumClasses,staticStyle:{width:"100%"},attrs:{src:e.images[0].url,alt:e.name},on:{click:function(i){t.playPreview(e.preview_url)}}}),t._v(" "),i("icon",{staticClass:"play-icon overlay",attrs:{name:"play"}}),t._v(" "),i("div",{staticClass:"label overlay"},[i("h4",[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"label rating-overlay"},[i("h2",[t._v(t._s(a+1))])])],1)])]]}),t._v(" "),i("audio",{ref:"audio",on:{timeupdate:t.audioUpdate}}),t._v(" "),i("div",{staticClass:"animation-wrapper"},[t.audioPlaying?i("AudioAnimation"):t._e()],1)],2):i("login")],1)},staticRenderFns:[]};var A=i("VU/8")(C,S,!1,function(t){i("cT0C")},null,null).exports,T={components:{"v-container":l,Home:A}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"app"}},[e("v-container",[e("div",{staticClass:"content"},[e("home")],1)])],1)},staticRenderFns:[]},z=i("VU/8")(T,M,!1,null,null,null).exports,P=i("Gu7T"),W=i.n(P),R=i("/ocq"),E=[{path:"/",component:A}];a.a.use(R.a);var $=new R.a({mode:"history",routes:[].concat(W()(E))}),D=i("D4uH");a.a.use(s.a),a.a.component("icon",D.a),new a.a({el:"#app",render:function(t){return t(z)},router:$})},cT0C:function(t,e){},fMGR:function(t,e){},"n+X2":function(t,e){},pr3K:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2071f0f4079916296c53.js.map